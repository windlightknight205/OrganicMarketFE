<app-header></app-header>
<p-toast position="center"></p-toast>
<!-- Category -->
<section class="hero">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="hero__categories">
                    <div class="hero__categories__all" style="background-color:rgb(78,115,223);">
                        <i class="fa fa-bars"></i>
                        <span>Danh mục</span>
                    </div>
                    <ul >
                        <li *ngFor="let category of categories"><a (click)="searchProductsWithCat(category.id)" >{{category.name}}</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="hero__search">
                    <div class="hero__search__form">
                        <form (ngSubmit)="searchProducts()">
                            <div class="hero__search__categories">
                                <select [(ngModel)]="selectedCategoryId" class="full-width-select" name="select">
                                    <option [value]="0">Tất cả</option>
                                    <option *ngFor="let category of categories" [value]="category.id">
                                        {{ category.name }}
                                    </option>
                                </select>
                            </div>
                            <input type="text" [(ngModel)]="keyword" name="name" placeholder="Nhập tên sản phẩm">
                            <button type="submit" class="site-btn" style="background-color: rgb(78,115,223);">SEARCH</button>
                        </form>
                    </div>
                </div>
                <div class="hero__item set-bg" data-setbg="img/hero/banner.jpg">
                    <div class="hero__text">
                        <span>THỰC PHẨM TƯƠI SẠCH</span>
                        <h2>RAU CỦ QUẢ <br />100% Organic</h2>
                        <p>THOẢI MÁI LỰA CHỌN, KHÔNG LO VỀ GIÁ</p>
                        <a href="/shop-grid" class="primary-btn" style="background-color: rgb(78,115,223);">SHOP NOW</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Featured -->
<section class="featured spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <h2>Danh sách sản phẩm</h2>
                </div>
                <div class="featured__controls">
                    <ul>
                        <li [class.active]="0 === activeCategory"><span (click)="searchProductsWithCat(''); setActiveCategory(0)" >Tất cả</span></li>
                        <li *ngFor="let category of categories" (click)="searchProductsWithCat(category.id) ;setActiveCategory(category.id) "  
                        [class.active]="category.id === activeCategory">
                           <span> {{category.name}} </span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row featured__filter">
            <div class="col-lg-3 col-md-4 col-sm-6 mix oranges fresh-meat" *ngFor="let product of products">
                <div class="featured__item">
                    <div class="featured__item__pic set-bg">
                        <img [src]="product.url" (click)="onProductClick(product.id)" alt="Product Image" class="product-image">
                        <ul class="featured__item__pic__hover">
                            <li><a (click)="addToFavourite(product.id)" title="Thêm vào yêu thích"><i class="fa fa-heart"></i></a></li>
                            <li><a (click)="addToCart(product.id)" title="Thêm vào giỏ hàng"><i class="fa fa-shopping-cart"></i></a></li>
                            <li><a (click)="buyNow(product.id)" title="Mua ngay"><i class="fas fa-shopping-bag"></i></a></li>
                        </ul>
                    </div>
                    <div class="featured__item__text">
                        <h6><a href="#">{{product.name}}</a></h6>
                        <h5>{{product.price| number:'1.0-0'}}<sup>đ</sup></h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div class="product__pagination">
            <a  *ngIf="currentPage>0" (click)="onPageChange(0)">First</a>
            <a  *ngIf="currentPage > 0" (click)="onPageChange(currentPage - 1)">
                <i class="fa fa-long-arrow-left"></i>
            </a>
            <ng-container *ngFor="let page of visiblePages">
                <a [ngClass]="{'active': page === currentPage + 1}" 
                    (click)="onPageChange(page - 1)">{{ page }}</a>
            </ng-container>
            <a  (click)="onPageChange(currentPage + 1)">
                <i class="fa fa-long-arrow-right"></i>
            </a>
            <a *ngIf="currentPage>0" (click)="onPageChange(totalPages-1)">Last</a>
        </div>
</div>
</section>
<!-- Featured Section End-->
<!-- Paging Start-->
<!-- Banner Begin -->
<div class="banner">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-md-6 col-sm-6">
                <div class="banner__pic">
                    <img src="assets/img/banner.jpg" alt="">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Blog Section Begin -->
    <section class="from-blog spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title from-blog__title">
                        <h2>From The Blog</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic">
                            <img src="assets/img/blog/blog-1.jpg" alt="">
                        </div>
                        <div class="blog__item__text">
                            <ul>
                                <li><i class="fa fa-calendar-o"></i> May 4,2019</li>
                                <li><i class="fa fa-comment-o"></i> 5</li>
                            </ul>
                            <h5><a href="#">Cooking tips make cooking simple</a></h5>
                            <p>Sed quia non numquam modi tempora indunt ut labore et dolore magnam aliquam quaerat </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic">
                            <img src="assets/img/blog/blog-2.jpg" alt="">
                        </div>
                        <div class="blog__item__text">
                            <ul>
                                <li><i class="fa fa-calendar-o"></i> May 4,2019</li>
                                <li><i class="fa fa-comment-o"></i> 5</li>
                            </ul>
                            <h5><a href="#">6 ways to prepare breakfast for 30</a></h5>
                            <p>Sed quia non numquam modi tempora indunt ut labore et dolore magnam aliquam quaerat </p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic">
                            <img src="assets/img/blog/blog-3.jpg" alt="">
                        </div>
                        <div class="blog__item__text">
                            <ul>
                                <li><i class="fa fa-calendar-o"></i> May 4,2019</li>
                                <li><i class="fa fa-comment-o"></i> 5</li>
                            </ul>
                            <h5><a href="#">Visit the clean farm in the US</a></h5>
                            <p>Sed quia non numquam modi tempora indunt ut labore et dolore magnam aliquam quaerat </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> 
<app-footer></app-footer>